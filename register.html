<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ユーザー登録</title>
<link rel="stylesheet" href="style.css">
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script src="liff.js"></script>
</head>
<body>
<div class="container">
  <h1>ユーザー登録</h1>
  <p>下のボタンを押して登録してください。</p>
  <button id="registerBtn">登録する</button>
  <p id="status"></p>
</div>
<script>
document.getElementById('registerBtn').addEventListener('click', async () => {
  const userId = await getLiffUserId();
  const res = await liffApiCall({ action: 'register', userId });
  if (res.ok) {
    document.getElementById('status').innerText = '登録完了！この画面は閉じます…';
    setTimeout(() => liff.closeWindow(), 1500);
  }
});
</script>
</body>
</html>
